---
title: "Comparable과 Comparator"
date: 2021-02-04
categories:
  - Post
  - GitHub
---

1. ###### Comparable과 Comparator는 어떻게 다를까?

   

   **Comparable**은 String이나 Integer의 데이터를 특정 조건으로 정렬 하고 싶을 때 

   클래스 옆에 `DTO implements Comparable<DTO>` 형식으로 써준다.

   출력할 때 Collections.sort(목록) method를 이용한다.

   

   **Comparator**는 기존 정렬에서 내가 원하는대로 특정 조건을 더 추가하여 다르게 정렬하고 싶을때 

   새로운 클래스를 만들고 `MyComparator implements Comparator<DTO>` 형식으로 써준다. 

   출력할 때는 Collections.sort(목록,comparator별칭) method를 이용한다.





##### 1) Controller

```
@Controller
public class ProductListController {
	@Autowired
	private ProductDaoInter Inter;
    
@RequestMapping("productListSort")
	public ModelAndView processSort(ModelAndView view, HttpServletRequest request,
			@RequestParam("order_by")String order_by) {
		//page처리
        ...
		//정렬기준 처리
		{% highlight ProductComparator com = new ProductComparator();
		com.order_by = order_by;
		Collections.sort(list,com); %}
		
		ArrayList<ProductDto> result = getListData(list, page);
		view.addObject("data",result);
		view.setViewName("productList");
		
		return view;
	}
```

새로운 Comparator객체를 만들고 그 안에 order_by 정렬조건을 넣어준다. Collections.sort는 정렬하는 기본 메소드이다.



##### 1) DTO

```
public class ProductDto implements Comparable<ProductDto>{
	private String user_id,...;
	private int product_id,...;
	
	@Override
	public int compareTo(ProductDto o) { 
			return 0;
	}
    //getter,setter
```

DTO 스스로를 비교할 수 있도록 Java의 기본 클래스인 Comparable을 implement 해준다. 그리고 compareTo를 Override 해준다.



##### 3) Comparator

```
import java.util.Comparator;

public class ProductComparator implements Comparator<ProductDto>{

	public String order_by;
	
	@Override
	public int compare(ProductDto o1, ProductDto o2) {
		if(order_by.equals("views desc")) {
			if(o1.getViews() < o2.getViews()) {
				return 1;
			}return -1;
		}else if(order_by.equals("interest_count desc")){
			if(o1.getInterest_count() < o2.getInterest_count()) {
				return 1;
			}return -1;
		}else if(order_by.equals("product_price desc")){
			if(o1.getProduct_price() < o2.getProduct_price()) {
				return 1;
			}return -1;
		}else{
			if(o1.getProduct_price() > o2.getProduct_price()) {
				return 1;
			}return -1;
		}
		
	}

```

정렬기준이 여러개인 경우 DTO를 스스로 비교하고 order_by로 조건을 받아서 오름차순 내림차순으로 정렬해준다.



##### 4) productList.jsp

```html
<th class="text-right" >
	<!-- 상품 정렬 -->
	<a href="productListSort?page=1&order_by=views desc">인기순</a>&emsp;
	<a href="productList?page=1">최신순</a>
	<a href="productListSort?page=1&order_by=interest_count desc">좋아요순</a> 
	<a href="productListSort?page=1&order_by=product_price desc">높은가격</a>
	<a href="productListSort?page=1&order_by=product_price asc">낮은가격</a>
</th>
```

a태그로 정렬기준을 담아 Controller를 호출해준다.